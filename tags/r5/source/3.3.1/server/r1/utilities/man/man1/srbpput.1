.\" For ascii version, process this file with
.\" groff -man -Tascii srbpput.1
.\"
.TH srbpput 1 "Jan 2003 " "Storage Resource Broker" "User SRB Commands"
.SH NAME
srbpput \- imports one or more local files and/or directories into
SRB space using one or more client threads.
.SH SYNOPSIS
.B srbpput
.RB [ \-hvr "] [" \-S
.IR resourceName ]
.RB [ \-N
.IR NumOfThreads "] " localFileName | localDirectory " " TargetName
.br
.SH DESCRIPTION
.B "srbpput "
reads one or more local files and|or directories and writes them as object(s) in SRB space using one or more client threads. 
.sp
This utility which uses the "client driven" parallel I/O scheme is being replaced by 
.I Sput
which uses the more efficient "server driven" parallel I/O scheme. 
With the "client driven" scheme, the client is the active partner which subdivides the file to be imported into segments and spawns threads to handle the import of each segment in parallel. 
.sp
With the "server driven" scheme, the server is the active partner. The client listens on a control socket for instructions from the servers. Upon receiving the client request, the server with the help of informations from the MCAT, plans the execution of the import. 
Typically it sends data transfer instructions to the server where the import resource is located. The resource server then subdivides the file to be imported into segments and spawns threads to handle the import of each segment in parallel.
One advantage of this scheme is data transfer is always directly between the resource server and client with no intermediate server in between. 
.sp
The
.I localFileName
and|or
.I localDirectory
can be a path name in the local file hierarchy. The user should
have at least 'read' access permission for them. These inputs
can have wildcards.
.sp
The
.I TargetName
can be a path name in the collection hierarchy. The object
creation is done in the current collection, if
.I TargetName
is just an object-name. If a relative or absolute collection is
given in
.IR TargetName ,
then the object is stored in that collection. The user should have
write access permission for the collection. '.' can be used as a
.I TargetName
to denote the current collection.
.sp
If
.I TargetName
is a collection, then srbpput uses the names of the local files as
SRB object names. The directory path of
.I localFileName
is not used in making the SRB object name.
.sp
If
.I TargetName
is an object-name (possibly with a collection path) and there are
more than one local file to be copied, then the
.I TargetName
is appended to the front of the local file names to make SRB
object names.
.sp
If given, the object is stored in
.IR resourceName .
Otherwise the object is stored in the default resource given by
DEFRESOURCE in the user environment file, located in
~/.srb/.MdasEnv
.sp
.PP
.SH "OPTIONS"
.TP 0.5i
.B "\-h "
display command options
.TP 0.5i
.B "\-r "
copy local directories recursively to SRB space.
.TP 0.5i
.B "\-v "
verbose mode. print out file size and transfer rate.
.TP 0.5i
.B "\-S "
.I "resourceName "
is the target resourceName.
.TP 0.5i
.B "\-N "
.I "NumOfThreads "
is the number of threads to use for each import. If the option is not used, it will be calculated internally.
.SH "SEE ALSO"
.BR Sput (1),
.BR srbpget (1),
.BR Sget (1),
.BR Sappend (1),
.BR Stoken (1),
.BR SgetR (1),
.BR Smkdir (1)

