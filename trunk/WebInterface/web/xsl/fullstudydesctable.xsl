<?xml version="1.0"?><xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">	<xsl:output method="xml" indent="yes" omit-xml-declaration="yes"/>	<xsl:template match="/CLRCMetadata">		<xsl:choose>			<xsl:when test="MetadataRecord">				<xsl:apply-templates select="MetadataRecord">					<xsl:sort select="@metadataID"/>				</xsl:apply-templates>								<br />			<input type="submit" value="Explore selected studies" />						</xsl:when>			<xsl:otherwise>				<h2>No records found which satisfy query.</h2>			</xsl:otherwise>		</xsl:choose>	</xsl:template>	<xsl:template match="MetadataRecord">		<table border="0" width="95%" align="center" cellspacing="0" cellpadding="1" bgcolor="#FFFFFF">			<tr bgcolor="#ADD8E6">				<td colspan="4">					<b>						<font size="4">							<xsl:apply-templates select="*/StudyName"/>						</font>					</b>				</td>			</tr>			<tr bgcolor="#ADD8E6">				<td colspan="1">					<i>Institution:    </i>					<xsl:apply-templates select="*/Investigator[1]/Institution"/>				</td>				<td align="right">Select Study: 				<input type="checkbox" name="select" style="cursor:crosshair;">						<xsl:attribute name="value"><xsl:value-of select="@metadataID"/></xsl:attribute>						<xsl:if test="@expand">							<xsl:attribute name="checked"/>						</xsl:if>					</input>				</td>				<td width="20">					<xsl:text> </xsl:text>				</td>			</tr>			<tr bgcolor="#ADD8E6">				<td colspan="4">					<i>	PI:     </i>					<xsl:apply-templates select="*/Investigator[1]/Name"/>				</td>			</tr>			<tr bgcolor="#ADD8E6">				<td colspan="4">					<i>Start date:      </i>					<xsl:apply-templates select="*/StudyInformation/TimePeriod"/>				</td>			</tr>			<tr>				<td>					<br/>				</td>			</tr>					</table>		<table border="1" width="95%" align="center" cellspacing="0" cellpadding="1">			<!--	<xsl:apply-templates select="*/StudyName"/>-->			<xsl:apply-templates select="*/StudyID"/>			<xsl:apply-templates select="*/Investigator"/>			<xsl:apply-templates select="*/StudyInformation"/>			<xsl:apply-templates select="*/DataManager"/>			<xsl:apply-templates select="*/Instrument"/>			<xsl:if test="*/Condition">				<tr>					<td valign="top">						<b>Study Conditions</b>					</td>					<td>						<table>							<xsl:apply-templates select="*/Condition"/>						</table>					</td>				</tr>			</xsl:if>			<xsl:if test="*/Parameter">				<tr>					<td valign="top">						<b>Study Parameters</b>					</td>					<td>						<table>							<xsl:apply-templates select="*/Parameter"/>						</table>					</td>				</tr>			</xsl:if>			<xsl:apply-templates select="AccessConditions"/>			<xsl:apply-templates select="*/Notes"/>			<!--<tr>					<td>Select: </td>					<td>						<input type="checkbox" name="explore">							<xsl:attribute name="value"><xsl:value-of select="@metadataID"/></xsl:attribute>							<xsl:if test="@explore">								<xsl:attribute name="checked"/>							</xsl:if>						</input>-->			<!--<xsl:element name="a">                 <xsl:attribute name="href">../servlet/AddStudyToCartServlet?studyname=<xsl:value-of select="*/StudyName" />&amp;type=Study&amp;id=<xsl:value-of select="@metadataID"/></xsl:attribute>Add study to cart</xsl:element>					</td>				</tr>-->						</table>		<br/>		<br/>	</xsl:template>	<xsl:template match="StudyName">		<xsl:value-of select="."/>	</xsl:template>	<xsl:template match="StudyID">		<tr>			<td>				<b>Study Reference</b>			</td>			<td>				<xsl:value-of select="@studyid"/>			</td>		</tr>	</xsl:template>	<xsl:template match="Investigator">		<tr>			<td valign="top">				<b>Investigator</b>			</td>			<td>				<table>					<xsl:apply-templates/>				</table>			</td>		</tr>	</xsl:template>	<xsl:template match="Investigator/Name">		<xsl:if test="PersonTitle">			<xsl:value-of select="PersonTitle"/>			<xsl:text> </xsl:text>		</xsl:if>		<xsl:if test="Initials">			<xsl:value-of select="Initials"/>			<xsl:text> </xsl:text>		</xsl:if>		<xsl:value-of select="Surname"/>	</xsl:template>	<xsl:template match="Investigator/Forename"> </xsl:template>	<xsl:template match="Investigator/Institution">		<xsl:value-of select="."/>	</xsl:template>	<xsl:template match="Investigator/Role">		<xsl:value-of select="."/>	</xsl:template>	<xsl:template match="Investigator/Status">		<tr>			<td>				<b>Position</b>			</td>			<td>				<xsl:value-of select="."/>			</td>		</tr>	</xsl:template>	<xsl:template match="Investigator/ContactDetails"> </xsl:template>	<xsl:template match="StudyInformation">		<tr>			<td valign="top">				<b>Study Information</b>			</td>			<td>				<table>					<xsl:apply-templates/>				</table>			</td>		</tr>	</xsl:template>	<xsl:template match="Funding">		<tr>			<td>				<b>Funding Body</b>			</td>			<td>				<xsl:value-of select="."/>			</td>		</tr>	</xsl:template>	<xsl:template match="Purpose">		<xsl:apply-templates select="Abstract"/>		<xsl:apply-templates select="StudyType"/>	</xsl:template>	<xsl:template match="TimePeriod">		<xsl:apply-templates select="StartDate"/>		<xsl:if test="EndDate">			<xsl:text>        End Date: </xsl:text>			<xsl:apply-templates select="EndDate"/>		</xsl:if>	</xsl:template>	<xsl:template match="StartDate">		<xsl:apply-templates select="Date"/>	</xsl:template>	<xsl:template match="EndDate">		<xsl:apply-templates select="Date"/>	</xsl:template>	<xsl:template match="Abstract">		<tr>			<td valign="top">				<b>Abstract</b>			</td>			<td>				<xsl:value-of select="."/>			</td>		</tr>	</xsl:template>	<xsl:template match="StudyType">		<tr>			<td>				<b>Type of Study</b>			</td>			<td>				<xsl:value-of select="."/>			</td>		</tr>	</xsl:template>	<xsl:template match="StudyStatus">		<tr>			<td>				<b>Status of Study</b>			</td>			<td>				<xsl:value-of select="."/>			</td>		</tr>	</xsl:template>	<xsl:template match="Resources">		<tr>			<td>				<b>Resources</b>			</td>			<td>				<xsl:value-of select="."/>			</td>		</tr>	</xsl:template>	<xsl:template match="DataManager">		<tr>			<td valign="top">				<b>Data Manager</b>			</td>			<td>				<table>					<xsl:apply-templates/>				</table>			</td>		</tr>	</xsl:template>	<xsl:template match="DataManager/Institution">		<tr>			<td>				<b>Institution</b>			</td>			<td>				<xsl:value-of select="."/>			</td>		</tr>	</xsl:template>	<xsl:template match="DataManager/Contact">		<tr>			<td valign="top">				<b>Contact</b>			</td>			<td>				<xsl:apply-templates select="Name"/>				<br> </br>				<xsl:apply-templates select="Institution"/>			</td>		</tr>	</xsl:template>	<xsl:template match="DataManager/Contact/Name">		<xsl:if test="PersonTitle">			<xsl:value-of select="PersonTitle"/>			<xsl:text> </xsl:text>		</xsl:if>		<xsl:if test="Initials">			<xsl:value-of select="Initials"/>			<xsl:text> </xsl:text>		</xsl:if>		<xsl:value-of select="Surname"/>	</xsl:template>	<xsl:template match="DataManager/Contact/Institution">		<xsl:value-of select="."/>	</xsl:template>	<xsl:template match="Instrument">		<tr>			<td>				<b>Instrument Used</b>			</td>			<td>				<xsl:value-of select="."/>			</td>		</tr>	</xsl:template>	<xsl:template match="Notes">		<tr>			<td>				<b>Additional Notes</b>			</td>			<td>				<xsl:value-of select="."/>			</td>		</tr>	</xsl:template>	<xsl:template match="Condition">		<tr>			<td>				<b>					<xsl:value-of select="ParamName"/>				</b>			</td>			<td>				<xsl:value-of select="ParamValue"/>			</td>			<td>				<xsl:value-of select="Units"/>			</td>			<td>				<xsl:value-of select="Range"/>			</td>		</tr>	</xsl:template>	<xsl:template match="Parameter">		<tr>			<td>				<b>					<xsl:value-of select="ParamName"/>				</b>			</td>			<td>				<xsl:value-of select="ParamValue"/>			</td>			<td>				<xsl:value-of select="Units"/>			</td>			<td>				<xsl:value-of select="Range"/>			</td>		</tr>	</xsl:template>	<xsl:template match="AccessConditions">		<tr>			<td>				<b>Access Conditions</b>			</td>			<td>				<xsl:value-of select="."/>			</td>		</tr>	</xsl:template></xsl:stylesheet>