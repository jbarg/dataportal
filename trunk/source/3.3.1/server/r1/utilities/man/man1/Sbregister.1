.\" For ascii version, process this file with
.\" groff -man -Tascii Sbregister.1
.\"
.TH Sbregister 1 "Feb 2003 " "Storage Resource Broker" "User SRB Commands"
.SH NAME
Sbregister \- registers in bulk one or more local files and/or directories into
SRB space.
.SH SYNOPSIS
.B Sbregister 
.RB [ \-S
.IR resourceName 
.RB  ]
.IR localFile | localDirectory " ... " targetCollection
.sp
.B Sbregister 
.RB [ \-f
.IR infoFileName|\-
.RB ]
.IR
.br
.SH DESCRIPTION
.B "Sbregister "
is similar to Sregister, which registers one or more local files and|or directories  into SRB space. It is designed to greatly improve the
efficiency of registering a large number of  files by 
.br
1) registering up to several hundreds files with MCAT with a single call instead
of the normal mode of registering one file at a time.
.br
2) use of separate threads for registration.
.sp
The  second synopsis reads data from a file or standard input  which contains 
information for the files to be registered. If "-" is used after the -f 
option the file is read from standatard input.
.sp
The
.I localFile
and|or
.I localDirectory
can be a path name in the local file hierarchy but accessible by a
SRB server throough 
.I resourceName. 
The user should
have at least 'write' access permission for them. These inputs
can have wildcards except "." and "..". If it is a directory,  sub-directories will be recursively registered  automatically as  sub-collections.
.sp
The
.I targetCollection
is the target collection path under which the objects will be registered.
The path can be relative or absolute. Also, special path name such as "."
and ".." are valid. 
.sp
If given, the object is stored in
.IR resourceName .
Otherwise the object is stored in the default resource given by
DEFRESOURCE in the user environment file, located in ~/.srb/.MdasEnv
.PP
The second synopsis requires the information file to be in the following 
format:
.sp
Line1:resourceName
Line2:srbDataName|collectionName|dataSize|dataType|filePathName
thru : : : : : :
LineN:srbDataName|collectionName|dataSize|dataType|filePathName
LastLine:<<END>>
.PP
.SH "OPTIONS"
.TP 0.5i
.B "\-S "
.I "resourceName "
is the target resourceName.
.TP 0.5i
.B "\-f "
.I "infoFileName "
is the file containing information about the registering files.
.SH "SEE ALSO"
.BR Sregister (1),
.BR Sbload (1),
.BR Smkdir (1)

