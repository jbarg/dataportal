.\" For ascii version, process this file with
.\" groff -man -Tascii Sregister.1
.\"
.TH Sregister 1 "Jan 2002 " "Storage Resource Broker" "User SRB Commands"
.SH NAME
Sregister \- registers one or more files into SRB space.
.SH SYNOPSIS
.B Sregister
.RB [ \-p "] [" \-D
.IR dataType ]
.RB [ \-S
.IR size ]
.RB [ \-R
.IR resourceName "] " RegisteringObjectPath " ... " TargetName
.br
.B Sregister \-c
.RB [ \-p "] [" \-D
.IR dataType ]
.RB [ \-S
.IR size ]
.RB [ \-R
.IR resourceName "] " "RegisteringObjectPath srbObjectName"
.SH DESCRIPTION
.B "Sregister "
registers files that are created outside SRB but are accesible
by SRB and are as yet unregistered). The files are not modified.
The options are similar to that of Sput.
.sp
The
.I RegisteringObjectPath
can be a path name in the local file hierarchy. SRB should have at
least 'read/write' access permission for
.IR RegisteringObjectPath .
This is required as a security measure that objects are registered
only by owners who are able to grant SRB write priveleges. One can
always remove the 'write' permission once the object has been
registered. Note that without write permission, SRB cannot write,
append or remove the object.
.sp
.I RegisteringObjectPath
can be a pattern in the case of Unix.
.sp
The second synopsis allows one to register another copy of an
already existing (or registered)
.I srbObjectName
at the new location
.IR RegisteringObjectPath .
.sp
The
.I TargetName
can be a path name in the collection hierarchy. The object
creation is done in the current collection, if
.I TargetName
is just an object-name. If a relative or absolute collection is
given in
.IR TargetName ,
then the object is stored in that collection. The user should
have 'write' access permission for the collection. '.' can be
used as
.I TargetName
to denote the current collection.
.sp
If
.I TargetName
is a collection, then Sregister uses the names of the local files
as SRB object names. The directory path of
.I RegisteringObjectPath
is not used in making the SRB object name.
.sp
If
.I TargetName
is an object-name (possibly with a collection path) and there are
more than one local file to be copied then the
.I TargetName
is appended to the front of the local file names to make SRB
object names.
.sp
If given, the data type of the object is set to
.IR dataType .
Otherwise, Sregister uses the file extender (i.e. string after
the last '.') to figure out the type. If it is unable to figure
out the data type, the 'generic' data type is used. Most popular
extenders in Unix and DOS will be supported. The data type 
discovery is done in the MCAT and hence future extenders can be
supported without any change in or compilation of the client code.
.sp
If given, the object is stored in
.IR resourceName .
Otherwise the object is stored in the default resource given by
DEFRESOURCE in the user environment file, located in
~/.srb/.MdasEnv
.sp
The 
.I size
parameter is needed for correct operations of many other Scommands. 
Hence we suggest that you give the correct size of the file using 
this option. If the 
.I size 
is not given,  it will try to get it through a stat() call assuming the file is local. If this stat() failed, a value of 0 is chosen.
.PP
.SH "OPTIONS"
.TP 0.5i
.B "\-h "
display command options
.TP 0.5i
.B "\-p "
prompts before writing each object to SRB space.
.TP 0.5i
.B "\-c "
registers another copy of an existing SRB object.
.SH "SEE ALSO"
.BR Sput (1)

