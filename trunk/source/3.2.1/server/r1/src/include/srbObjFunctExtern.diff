25d24
< #define BL_QUERY_DONE		0x2	/* query already done */
33,37d31
< #define MAX_BMOVE_SRC_RESC	30	/* max srcResource for bmove
< 					 * that can be handled */
< 
< #define BULK_MOVE_NUM_ROWS	200	/* XXXXXX only for testing */
< /* #define BULK_MOVE_NUM_ROWS	5000 */
601,689d594
< int
< svrBulkMove (int catType, struct varlena *vCollectionName, int flag,
< struct varlena *vSrcResource, struct varlena *vDestResource,
< struct varlena *vContainerName);
< int
< _svrBulkMove (int catType, char *collectionName, int flag,
< char *srcResource, char *destResource);
< int 
< _svrBulkMoveToCont (int catType, char *collectionName, int flag,
< char *srcResource, char *destResource, char *containerName);
< extern int 
< svrModifyForBulkMove(int catType, int operCode, struct varlena *vOperString,
< 		     struct varlena *inDataInfo);
< extern int
< _svrModifyForBulkMove(int catType, int operCode, char *operString,
<                       mdasC_sql_result_struct *myresult);
< int
< svrBulkUnloadForMove(int catType, int flag, struct varlena *vClHostAddr,
< int clPort, struct varlena *vCollection, struct varlena *vSrcResource,
< struct varlena *vTargResource, svrComm_t *myComm);
< int
< _svrBulkUnloadForMove (int catType, int flag, char *clHostAddr,
< int clPort, char *collection, char *srcResource, char *targResource,
< svrComm_t *myComm);
< int
< queryBulkUnloadForMove (int catType, int flag, char *collection,
< char *srcResource, char *targResource, mdasC_sql_result_struct **myresult);
< int
< setMultiRescQuery (char *qval, char *srcResource);
< int
< sendBmoveData (mdasC_sql_result_struct *myresult, char *clHostAddr, int clPort,
< svrComm_t *myComm, int flag, int myFd);
< int
< unfoldBulkMoveData (int srcFd, struct mdasResInfo *destResInfo,
< mdasC_sql_result_struct *inresult);
< int
< setupResultForMove (mdasC_sql_result_struct *inresult,
< mdasC_sql_result_struct *outresult, char *container);
< int
< localCreateForMove (char *inCollection, char *inObjID, char *inReplNum,
< char *inVerNum, struct mdasResInfo *destResInfo, int destTypeInx,
< char *outCollection, char *outObjID, char *outReplNum, char *outVerNum,
< char *outPath);
< int
< cleanMovedData (struct mdasResInfo *destResInfo,
< mdasC_sql_result_struct *outresult);
< int
< getFirstResc (char *srcResource, char *outResName);
< int
< sendDelToPortal (int destFd, mdasC_sql_result_struct *myresult);
< int printOrphan (mdasC_sql_result_struct *myresult);
< int
< readDelHeader (int myFd, mdasC_sql_result_struct *savedResult);
< int
< delMovedSrcData (mdasC_sql_result_struct *myresult);
< int
< getBestSrcForBulkMove (int catType, char *collectionName, int flag,
< char *srcResource, char *destResource,
< mdasC_sql_result_struct **myresult, struct hostElement **tmpHostTabPtr);
< int 
< localBulkMoveDataToCont (int catType, char *collectionName, 
< char *containerName, mdasC_sql_result_struct *myresult);
< int
< _svrContainerOpen (int catType, char *containerName, int openFlag);
< srb_long_t 
< dataCopyToCont (int catType, int srcTypeInx, char *inPath,
< char *inResourceLoc, srb_long_t size, int contInx, srb_long_t contOffset, 
< char *buf, int *bufOffset);
< int
< procDescDirtyFlag (int descInx);
< int
< _svrRegNewObjSize (int catType, char *objID, char *collection,
< char *resourceName, char *pathName, srb_long_t newSize);
< int
< setWriteFlag (int descInx, int writeFlag);
< int
< svrRegPhyMove (int catType, struct varlena *vObjID,
< struct varlena *vCollectionName,
< struct varlena *vCurResourceName, struct varlena *vCurDataPath,
< struct varlena *vNewResourceName, struct varlena *vNewFullPathName);
< int
< _svrRegPhyMove (int catType, char *objID,  char *collectionName,
< char *curResourceName, char *curDataPath, char *newResourceName,
< char *newFullPathName);
< int
< localBulkMoveData (int catType, char *collection,
< struct mdasResInfo *destResInfo, mdasC_sql_result_struct *inresult);
< int
< addZoneToResult (mdasC_sql_result_struct *myresult, char *mcatHint);
